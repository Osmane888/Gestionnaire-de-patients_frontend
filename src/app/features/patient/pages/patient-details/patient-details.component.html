<div *ngIf="infosTotalPatients" class="patient-details">


  <div class="details-grid">
    <p><strong>Date de naissance :</strong> {{ infosTotalPatients.birthDate | date:'longDate' }}</p>
    <p><strong>Email :</strong> {{ infosTotalPatients.email }}</p>
    <p><strong>Téléphone :</strong> {{ infosTotalPatients.phoneNumber }}</p>
    <p><strong>Mutuelle :</strong> {{ infosTotalPatients.mutuelle }}</p>
    <p><strong>Adresse :</strong>
      {{ infosTotalPatients.address.street }} {{ infosTotalPatients.address.streetNumber }},
      {{ infosTotalPatients.address.city }} {{ infosTotalPatients.address.zipCode }}
    </p>
    <p><strong>Informations supplémentaires :</strong> {{ infosTotalPatients.info_supplement }}</p>
  </div>

  <button class="edit-btn" (click)="enableEdit()" *ngIf="!isEditing">Modifier</button>

  <form #form="ngForm" *ngIf="isEditing" (ngSubmit)="confirmUpdatePatient()" class="edit-form">
    <div class="form-group">
      <label>Prénom:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.firstName" name="firstName" required />
    </div>

    <div class="form-group">
      <label>Nom:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.lastName" name="lastName" required />
    </div>

    <div class="form-group">
      <label>Email:</label>
      <input type="email" [(ngModel)]="infosTotalPatients.email" name="email" required />
    </div>

    <div class="form-group">
      <label>Téléphone:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.phoneNumber" name="phoneNumber" required />
    </div>

    <div class="form-group">
      <label>Date de naissance:</label>
      <input type="date" [(ngModel)]="infosTotalPatients.birthDate" name="birthDate" required />
    </div>

    <div class="form-group">
      <label>Mutuelle:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.mutuelle" name="mutuelle" required />
    </div>

    <div class="form-group">
      <label>Adresse:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.address.street" name="address.street" required />
    </div>

    <div class="form-group">
      <label>Numéro de rue:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.address.streetNumber" name="address.streetNumber" required />
    </div>

    <div class="form-group">
      <label>Ville:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.address.city" name="address.city" required />
    </div>

    <div class="form-group">
      <label>Code Postal:</label>
      <input type="text" [(ngModel)]="infosTotalPatients.address.zipCode" name="address.zipCode" required />
    </div>

    <div class="form-group">
      <label>Informations supplémentaires:</label>
      <textarea [(ngModel)]="infosTotalPatients.info_supplement" name="info_supplement"></textarea>
    </div>

    <button class="save-btn" type="submit" [disabled]="form.invalid">Sauvegarder</button>
    <button class="cancel-btn" type="button" (click)="cancelEdit()">Annuler</button>
  </form>
</div>
