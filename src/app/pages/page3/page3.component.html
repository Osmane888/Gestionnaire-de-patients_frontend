<div class="container">
  <!-- FullCalendar -->
  <div class="full-calendar-container">
    <full-calendar [options]="calendarOptions"></full-calendar>
  </div>

  <!-- Appointment Booking Form -->
  <div class="form-container">
    <form (ngSubmit)="addEvent()" [formGroup]="newEvent">
      <h3>Add Appointment</h3>

      <label>Patient:</label>
      <p-autoComplete size="51"
                      formControlName="patientid"
                      [suggestions]="filteredPatients!"
                      (completeMethod)="filterPatients($event)"
                      optionValue="id"
                      optionLabel="fullname"/>

      <label for="dateRdv">Appointment Date:</label>
      <input id="dateRdv" type="date" formControlName="dateRdv" required>

      <label for="hourRdv">Start Time:</label>
      <input id="hourRdv" type="time" formControlName="hourRdv" required>

      <label for="durationRdv">End Time:</label>
      <input id="durationRdv" type="time" formControlName="durationRdv" required>

      <label for="statusRdv">Appointment Status:</label>
      <select id="statusRdv" formControlName="statusRdv" required>
        <option value="CANCELLED">CANCELLED</option>
        <option value="CONFIRMED">CONFIRMED</option>
        <option value="FINISHED">FINISHED</option>
      </select>

      <label for="rdvType">Appointment Description:</label>
      <input id="rdvType" type="text" formControlName="rdvType" required>

      <button type="submit">Add</button>
    </form>
  </div>
</div>

<!-- Custom Confirmation Modal -->
<div class="custom-modal" *ngIf="showModal">
  <div class="modal-content">
    <h3>Confirm Deletion</h3>
    <p>Are you sure you want to delete this event?</p>
    <div class="modal-actions">
      <button (click)="cancelDelete()">Cancel</button>
      <button class="delete-btn" (click)="confirmDelete()">Delete</button>
    </div>
  </div>
</div>
